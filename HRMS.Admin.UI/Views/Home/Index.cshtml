@{
    ViewData["Title"] = "Home Page";
}
@using System.Globalization;
<link href="https://beats.squareyards.com//resources/dist/css/profile-view.css" rel="stylesheet" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>


<style>
    .content {
        min-height: 0px;
        padding: 15px;
        margin-right: auto;
        margin-left: auto;
        padding-left: 15px;
        padding-right: 15px;
    }

    .profile-nav.nav-tabs-custom > .nav-tabs > li > a {
        font-size: 12px;
        font-weight: bold !important;
    }
</style>
<div class="content-wrapper" style="min-height: 870px;">
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>
            <strong>Welcome</strong> to Square Payroll
            @*<a href="#" class="lead btn btn-primary"><em class="fa fa-plus"></em>Generate Lead</a>*@
        </h1>
        <ol class="breadcrumb">
        </ol>
    </section>
    <section class="content">
        @await Component.InvokeAsync("EmployeeCount")

    </section>
    <section class="content">
        <div class="row" style="margin-top:0;">
            <div class="col-md-12 col-sm-12">
                <div class="box box-success">
                    <div class="box-header with-border">
                        <div class="box-title">
                            <i class="fa fa-bar-chart "></i> Salary
                        </div>
                    </div>
                    <div class="box-body">
                        <div class="profile-nav nav-tabs-custom customNavigation">
                            <span class="fa fa-bars"></span>
                            <ul class="nav nav-tabs">
                                <li class="active"><a href="#Monthly_Attendance_Graph" data-toggle="tab">Monthly Attendance Graph</a></li>
                                <li><a href="#Monthly_Gross_Salary_Incentive" data-toggle="tab">Monthly Gross Salary & Incentive</a></li>
                                <li><a href="#Number_of_Employees_to_whom_Salary_Paid " data-toggle="tab">Number of Employees to whom Salary Paid </a></li>
                                <li><a href="#Number_of_Employees_to_whom_Incentive_Paid" data-toggle="tab">Number of Employees to whom Incentive Paid</a></li>

                            </ul>
                            <div class="tab-content">
                                <div class="pro-overview tab-pane active" id="Monthly_Attendance_Graph">
                                    <div class="row" style="margin-top:0;">
                                        <div class="col-md-12 col-sm-12">
                                            <div class="box box-primary">
                                                <div class="box-header with-border">
                                                    <div class="box-title">
                                                        <h3 class="box-title pull-left"><i class="fa fa-calendar"></i> Monthly Attendance Graph</h3>

                                                    </div>
                                                    <select id="AssesmentYear1" name="AssesmentYear1" class="   pull-right btn-xs"
                                                            asp-items="@(new SelectList((IEnumerable<HRMS.Core.Entities.Master.AssesmentYear>)ViewBag.AssesmentYear,"Id","Name"))">
                                                        <option value="">---Select One---</option>
                                                    </select>
                                                </div>
                                                <div class="box-body">
                                                    <canvas id="myChart-4" style="width:100%;height:300px;padding-left:20px;padding-right:20px"></canvas>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane" id="Monthly_Gross_Salary_Incentive">
                                    <div class="row" style="margin-top:0;">
                                        <div class="col-md-12 col-sm-12">
                                            <div class="box box-primary">
                                                <div class="box-header with-border">
                                                    <div class="box-title">
                                                        <h3 class="box-title pull-left"><i class="fa fa-rupee"></i> Monthly Gross Salary & Incentive</h3>

                                                    </div>
                                                    <select id="AssesmentYear2" name="AssesmentYear2" class="   pull-right btn-xs"
                                                            asp-items="@(new SelectList((IEnumerable<HRMS.Core.Entities.Master.AssesmentYear>)ViewBag.AssesmentYear,"Id","Name"))">
                                                        <option value="">---Select One---</option>
                                                    </select>
                                                </div>
                                                <div class="box-body">
                                                    <canvas id="myChart-5" style="width:100%;height:300px;padding-left:20px;padding-right:20px"></canvas>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="pro-overview tab-pane" id="Number_of_Employees_to_whom_Salary_Paid" data-select2-id="Number_of_Employees_to_whom_Salary_Paid">
                                    <div class="row" style="margin-top:0;">
                                        <div class="col-md-12 col-sm-12">
                                            <div class="box box-primary">
                                                <div class="box-header with-border">
                                                    <div class="box-title">
                                                        <h3 class="box-title pull-left"><i class="fa fa-rupee"></i> Number of Employees to whom Salary Paid </h3>

                                                    </div>
                                                    <select id="AssesmentYear3" name="AssesmentYear3" class="   pull-right btn-xs"
                                                            asp-items="@(new SelectList((IEnumerable<HRMS.Core.Entities.Master.AssesmentYear>)ViewBag.AssesmentYear,"Id","Name"))">
                                                        <option value="">---Select One---</option>
                                                    </select>
                                                </div>
                                                <div class="box-body">
                                                    <canvas id="myChart-2" style="width:100%;height:300px;padding-left:20px;padding-right:20px"></canvas>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane" id="Number_of_Employees_to_whom_Incentive_Paid">
                                    <div class="row" style="margin-top:0;">
                                        <div class="col-md-12 col-sm-12">
                                            <div class="box box-primary">
                                                <div class="box-header with-border">
                                                    <div class="box-title">
                                                        <h3 class="box-title pull-left"><i class="fa fa-rupee"></i> Number of Employees to whom Incentive Paid </h3>
                                                    </div>
                                                    <select id="AssesmentYear4" name="AssesmentYear4" class="   pull-right btn-xs"
                                                            asp-items="@(new SelectList((IEnumerable<HRMS.Core.Entities.Master.AssesmentYear>)ViewBag.AssesmentYear,"Id","Name"))">
                                                        <option value="">---Select One---</option>
                                                    </select>
                                                </div>
                                                <div class="box-body">
                                                    <canvas id="myChart-3" style="width:100%;height:300px;padding-left:20px;padding-right:20px"></canvas>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row" style="margin-top:0;">
            <div class="col-md-12 col-sm-12">
                <div class="box box-warning">
                    <div class="box-header with-border">
                        <div class="box-title">
                            <i class="fa fa-search-plus"></i> Employee Tracking
                        </div>
                    </div>
                    <div class="box-body">
                        <div class="table-responsive">
                            <div class="dataTables_wrapper" role="grid">
                                <table class="table table-condensed table-striped table-hover table-bordered table-body-nowrap table-head-nowrap dataTable" cellspacing="0" rules="all" border="1" id="example" style="border-collapse:collapse;" aria-describedby="cp_MainContent_widgetExitEmployee_grdExitEmployees_info">
                                    <thead>
                                        <tr class="th-success" role="row">
                                            <th>#</th>
                                            <th>Name</th>
                                            <th>Date</th>
                                            <th>Status</th>
                                            <th>In Time</th>
                                            <th>In Location</th>
                                            <th>Out Time</th>
                                            <th>Out Location</th>
                                        </tr>
                                    </thead>
                                    <tbody role="alert" aria-live="polite" aria-relevant="all">
                                    </tbody>
                                </table>

                            </div>


                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row" style="margin-top:0;">
            <div class="col-md-12 col-sm-12">
                <div class="box box-primary">
                    <div class="box-header with-border">
                        <div class="box-title">
                            <i class="fa fa-birthday-cake"></i> Birthday and Work Anniversary
                        </div>
                    </div>
                    <div class="box-body">


                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
<script>
    var blue = "#348fe2",
        blueLight = "#5da5e8",
        blueDark = "#1993E4",
        aqua = "#49b6d6",
        aquaLight = "#6dc5de",
        aquaDark = "#3a92ab",
        green = "#00acac",
        greenLight = "#33bdbd",
        greenDark = "#008a8a",
        orange = "#f59c1a",
        orangeLight = "#f7b048",
        orangeDark = "#c47d15",
        dark = "#2d353c",
        grey = "#b6c2c9",
        purple = "#727cb6",
        purpleLight = "#8e96c5",
        purpleDark = "#5b6392",
        red = "#ff5b57";
    var white = "rgba(255,255,255,1.0)",
        fillBlack = "rgba(45, 53, 60, 0.6)",
        fillBlackLight = "rgba(45, 53, 60, 0.2)",
        strokeBlack = "rgba(45, 53, 60, 0.8)",
        highlightFillBlack = "rgba(45, 53, 60, 0.8)",
        highlightStrokeBlack = "rgba(45, 53, 60, 1)",
        fillBlue = "rgba(52, 143, 226, 0.6)",
        fillBlueLight = "rgba(52, 143, 226, 0.2)",
        strokeBlue = "rgba(52, 143, 226, 0.8)",
        highlightFillBlue = "rgba(52, 143, 226, 0.8)",
        highlightStrokeBlue = "rgba(52, 143, 226, 1)",
        fillGrey = "rgba(182, 194, 201, 0.6)",
        fillGreyLight = "rgba(182, 194, 201, 0.2)",
        strokeGrey = "rgba(182, 194, 201, 0.8)",
        highlightFillGrey = "rgba(182, 194, 201, 0.8)",
        highlightStrokeGrey = "rgba(182, 194, 201, 1)",
        fillGreen = "rgba(0, 172, 172, 0.6)",
        fillGreenLight = "rgba(0, 172, 172, 0.2)",
        strokeGreen = "rgba(0, 172, 172, 0.8)",
        highlightFillGreen = "rgba(0, 172, 172, 0.8)",
        highlightStrokeGreen = "rgba(0, 172, 172, 1)",
        fillPurple = "rgba(114, 124, 182, 0.6)",
        fillPurpleLight = "rgba(114, 124, 182, 0.2)",
        strokePurple = "rgba(114, 124, 182, 0.8)",
        highlightFillPurple = "rgba(114, 124, 182, 0.8)",
        highlightStrokePurple = "rgba(114, 124, 182, 1)",
        randomScalingFactor = function () { return Math.round(100 * Math.random()) };
    $(document).ready(function () {
        BindMonthlyAttendanceGraph();
        MonthlyGrossSalaryIncentive();
        NoofEmployeeSalaryPaid();
        NoofEmployeeIncentivePaid();
    });
    $("#AssesmentYear1").change(function () {
        BindMonthlyAttendanceGraph($("#AssesmentYear1").val());
    });
    $("#AssesmentYear2").change(function () {
        MonthlyGrossSalaryIncentive($("#AssesmentYear2").val());
    });
    $("#AssesmentYear3").change(function () {
        NoofEmployeeSalaryPaid($("#AssesmentYear3").val());
    });
    $("#AssesmentYear4").change(function () {
        NoofEmployeeIncentivePaid($("#AssesmentYear4").val());
    });
    function BindMonthlyAttendanceGraph(event) {
        debugger;
        var ctx = document.getElementById("myChart-4").getContext("2d");
        var data = {
            labels: ["Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", "Jan", "Feb", "Mar"],
            datasets: [{
                label: "Total Present",
                backgroundColor: fillBlue,
                data: [50000, 72000, 40000, 20000, 30000, 45000, 52000, 66000, 41000, 23000, 34000, 47000]
            }, {
                label: "Total Absent",
                backgroundColor: strokePurple,
                data: [5000, 7000, 4000, 2000, 3000, 4500, 5000, 7000, 4000, 2000, 3000, 4500]
            }, {
                label: "Total Employees",
                backgroundColor: orangeLight,
                data: [54000, 71000, 44000, 23000, 37000, 45400, 56000, 67000, 42000, 23000, 38000, 49000]
            }]
        };
        var myBarChart = new Chart(ctx, {
            type: 'bar',
            data: data,
            options: {
                barValueSpacing: 10,
                scales: {
                    yAxes: [{
                        ticks: {
                            min: 0,
                        }
                    }]
                }
            }
        });
    }
    function MonthlyGrossSalaryIncentive(event) {
        var ctx = document.getElementById("myChart-5").getContext("2d");
        var data = {
            labels: ["Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", "Jan", "Feb", "Mar"],
            datasets: [{
                label: "Gross Salary",
                backgroundColor: "#99ccff",
                data: [50000, 71000, 40000, 20000, 30000, 45000, 52000, 66000, 41000, 23000, 34000, 47000]
            }, {
                label: "Performance Incentives",
                backgroundColor: "#b3d9ff",
                data: [5000, 7000, 4000, 2000, 3000, 4500, 5000, 7000, 4000, 2000, 3000, 4500]
            }]
        };

        var myBarChart = new Chart(ctx, {
            type: 'bar',
            data: data,
            options: {
                barValueSpacing: 10,
                scales: {
                    yAxes: [{
                        ticks: {
                            min: 0,
                        }
                    }]
                }
            }
        });
    }
    function NoofEmployeeSalaryPaid(event) {
    var xValues = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
    var yValues = [0, 5000, 8000, 10000, 4000, 3600, 4400, 5700, 0, 1400, 1700, 3300];
    var barColors = [
        "#b91d47",
        "#EEE9E9",
        "#E2CFCF",
        "#EABCBC",
        "#F08080",
        "#E8BDBA",
        "#E7DDDC",
        "#FFE7E4",
        "#F9EDEC",
        "#C66957",
        "#DBD0CC",
        "#FFD3B5"
    ];
    new Chart("myChart-2", {
        type: "doughnut",
        data: {
            labels: xValues,
            datasets: [{
                backgroundColor: barColors,
                data: yValues
            }]
        },
        options: {
            title: {
                display: false,
                text: "World Wide Wine Production 2018"
            }
        }
    });
    }
    function NoofEmployeeIncentivePaid(event) {
        var xValues = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
        var yValues = [0, 5000, 8000, 10000, 4000, 3600, 4400, 5700, 0, 1400, 1700, 3300];
        var barColors = [
            "#b91d47",
            "#EEE9E9",
            "#E2CFCF",
            "#EABCBC",
            "#F08080",
            "#E8BDBA",
            "#E7DDDC",
            "#FFE7E4",
            "#F9EDEC",
            "#C66957",
            "#DBD0CC",
            "#FFD3B5"
        ];
        new Chart("myChart-3", {
            type: "doughnut",
            data: {
                labels: xValues,
                datasets: [{
                    backgroundColor: barColors,
                    data: yValues
                }]
            },
            options: {
                title: {
                    display: false,
                    text: "World Wide Wine Production 2018"
                }
            }
        });
    }

</script>