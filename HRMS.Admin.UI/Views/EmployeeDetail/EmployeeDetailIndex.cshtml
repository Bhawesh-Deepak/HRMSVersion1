@model IEnumerable<HRMS.Core.Entities.Payroll.EmployeeDetail>
<style>
    label {
        
         font-weight: 200; 
    }
</style>
<div class="content-wrapper" style="min-height: 870px;">

    <section class="content">
        <div class="row">

            <div class="col-md-12">
                <div class="row" style="margin-top:0;">
                    <div class="col-md-12 col-sm-12">
                        <div class="box box-success">
                            <div class="box-header with-border">
                                <div class="box-title">
                                    <i class="fa fa-filter fa-lg"></i>&nbsp; Filter &nbsp;

                                </div>

                            </div>
                            <div class="box-body">
                                <div class="row">
                                    <div class="col-sm-2">

                                        <label for="">Legal Entity: :</label>
                                        <select asp-for="@Model.First().LegalEntity" class="form-control input-sm"
                                                asp-items="@(new SelectList((IEnumerable<HRMS.Core.Entities.Organisation.Subsidiary>)ViewBag.subsidiaryList,"Name","Name"))">
                                            <option value="">--Select--</option>
                                        </select>

                                    </div>
                                    <div class="col-sm-2">

                                        <label for="">Department :</label>
                                        <select asp-for="@Model.First().DepartmentName" class="form-control input-sm"
                                                asp-items="@(new SelectList((IEnumerable<HRMS.Core.Entities.Master.Department>)ViewBag.departmentList,"Name","Name"))">
                                            <option value="">--Select--</option>
                                        </select>

                                    </div>
                                    <div class="col-sm-2">

                                        <label for="">Designation:</label>
                                        <select asp-for="@Model.First().DesignationName" class="form-control input-sm"
                                                asp-items="@(new SelectList((IEnumerable<HRMS.Core.Entities.Master.Designation>)ViewBag.designationList,"Name","Name"))">
                                            <option value="">--Select--</option>
                                        </select>

                                    </div>
                                    <div class="col-sm-2">
                                        <label for="">P &amp; L Head :</label>
                                        <select asp-for="@Model.First().PAndLHeadName" class="form-control input-sm"
                                                asp-items="@(new SelectList((IEnumerable<HRMS.Core.Entities.Master.PAndLMaster>)ViewBag.pandlList,"Name","Name"))">
                                            <option value="">--Select--</option>
                                        </select>
                                    </div>
                                    <div class="col-sm-2">

                                        <label for="exampleInputEmail2">DOJ :</label>
                                        <input type="date" id="txtdoj" name="txtdoj" placeholder="DOJ" class="form-control input-sm">

                                    </div>
                                    <div class="col-sm-2">

                                        <label for="exampleInputName2">Location :</label>

                                        <select asp-for="@Model.First().Location" class="form-control input-sm"
                                                asp-items="@(new SelectList((IEnumerable<HRMS.Core.Entities.Master.Location>)ViewBag.locationList,"Name","Name"))">
                                            <option value="">--Select--</option>
                                        </select>
                                    </div>

                                </div>
                                <div class="row">

                                    <div class="col-sm-2">
                                        <div class="form-group">
                                            <label for="exampleInputName2">Active /In-Active :</label>

                                            <select class="form-control  input-sm" id="ddlisactive" name="ddlisactive">
                                                <option value="">--Select One--</option>
                                                <option value="1">Active</option>
                                                <option value="0">In-Active</option>
                                                <option value="2">Sabbatical</option>
                                            </select>


                                        </div>
                                    </div>
                                    <div class="col-sm-2">
                                        <div class="form-group">
                                            <label for="exampleInputName2">AssesmentYear :</label>
                                            <select class="form-control input-sm" id="AssesmentYear" name="AssesmentYear">
                                                <option value="">---Select One---</option>
                                                <option value="2019-2020">2019-2020</option>
                                                <option value="2020-2021">2020-2021</option>
                                                <option value="2021-2022">2021-2022</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-sm-1">

                                        <label for="">Search :</label><br>
                                        <button type="button" class="btn btn-primary   btn-sm" id="btn-employeesearch">
                                            <i class="fa fa-search"></i>
                                        </button>

                                    </div>
                                    <div class="col-sm-1">

                                        <label for="">Refresh :</label><br>
                                        <a asp-action="Index" asp-controller="EmployeeDetail" class="btn btn-primary  btn-sm" >
                                            <i class="fa fa-refresh"></i>
                                        </a>

                                    </div>
                                    <div class="col-sm-1">

                                        <label for="">Export :</label>
                                        <button type="button" class="btn btn-primary btn-sm" id="btn-employeeexport">
                                            <i class="fa fa-download"></i> Export
                                        </button>

                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">

            <div class="col-md-12">
                <div class="row" style="margin-top:0;">
                    <div class="col-md-12 col-sm-12">
                        <div class="box box-warning">                            
                            <div class="box-body">
                                <div class="row">
                                    <div class="col-lg-3 col-6">
                                        <!-- small box -->
                                        <div class="small-box bg-primary">
                                            <div class="inner">
                                                <h3>150</h3>

                                                <p>TOTAL EMPLOYEE</p>
                                            </div>
                                            <div class="icon">
                                                <i class="fa fa-users"></i>
                                            </div>
                                            <a href="#" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                                        </div>
                                    </div>
                                    <!-- ./col -->
                                    <div class="col-lg-3 col-6">
                                        <!-- small box -->
                                        <div class="small-box bg-success">
                                            <div class="inner">
                                                <h3>53</h3>

                                                <p>
                                                    ACTIVE EMPLOYEE
                                                </p>
                                            </div>
                                            <div class="icon">
                                                <i class="fa fa-user-plus"></i>
                                            </div>
                                            <a href="#" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                                        </div>
                                    </div>
                                    <!-- ./col -->
                                    <div class="col-lg-3 col-6">
                                        <!-- small box -->
                                        <div class="small-box bg-warning">
                                            <div class="inner">
                                                <h3>44</h3>

                                                <p>
                                                    IN-ACTIVE EMPLOYEE
                                                </p>
                                            </div>
                                            <div class="icon">
                                                <i class="fa fa-user-times "></i>
                                            </div>
                                            <a href="#" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                                        </div>
                                    </div>
                                    <!-- ./col -->
                                    <div class="col-lg-3 col-6">
                                        <!-- small box -->
                                        <div class="small-box bg-danger">
                                            <div class="inner">
                                                <h3>65</h3>

                                                <p>
                                                    FNF INITIATED
                                                </p>
                                            </div>
                                            <div class="icon">
                                                <i class="fa fa-user-circle-o"></i>
                                            </div>
                                            <a href="#" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                                        </div>
                                    </div>
                                    <!-- ./col -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">

            <div class="col-md-12">
                <div class="row" style="margin-top:0;">
                    <div class="col-md-12 col-sm-12">
                        <div class="box box-primary">
                            <div class="box-header with-border">
                                <div class="box-title">
                                 <i class="fa fa-user-circle-o fa-lg"></i>   List of Employee &nbsp;

                                </div>
                                <a class="btn btn-primary pull-right btn-xs" href="javascript:void(0);" title="Export All Employee">
                                    <i class="fa fa-download"> &nbsp; Export</i>
                                </a>
                            </div>
                            <div class="box-body">
                                <div class="table-responsive">

                                    <div class="dataTables_wrapper" role="grid">


                                        <table class="table table-condensed table-striped table-hover table-bordered table-body-nowrap table-head-nowrap dataTable" cellspacing="0" rules="all" border="1" id="example" style="border-collapse:collapse;" aria-describedby="cp_MainContent_widgetExitEmployee_grdExitEmployees_info">
                                            <thead>
                                                <tr class="th-primary" role="row">
                                                    <th>#</th>
                                                    <th>Emp Code</th>
                                                    <th>Employee Name</th>
                                                    <th>DOJ</th>
                                                    <th>Department</th>
                                                    <th>Designation</th>
                                                    <th>Location</th>
                                                    <th>Legal Entity</th>
                                                    <th>DOL</th>
                                                    <th>Status</th>
                                                    <th>Action</th>

                                                </tr>
                                            </thead>
                                            <tbody role="alert" aria-live="polite" aria-relevant="all">
                                                @{
                                                    int count = 1;
                                                    string trclass = string.Empty;
                                                }
                                                @foreach (var data in Model)
                                                {
                                                    if (count / 2 == 0)
                                                    {
                                                        trclass = "even";
                                                    }
                                                    else
                                                    {
                                                        trclass = "odd";
                                                    }
                                                    <tr class="@trclass">
                                                        <td align="left" style="width:5%;" class="sorting_1">
                                                            @count
                                                        </td>
                                                        <td align="left" style="width:5%;" class="sorting_1">
                                                            @data.EmpCode
                                                        </td>
                                                        <td align="left" style="width:10%;" class="sorting_1">
                                                            @data.EmployeeName
                                                        </td>
                                                        <td align="left" style="width:10%;" class="sorting_1">
                                                            @string.Format("{0:dd/MM/yyyy}", @data.JoiningDate)
                                                        </td>

                                                        <td align="left" style="width:10%;" class="sorting_1">
                                                            @data.DepartmentName
                                                        </td>
                                                        <td align="left" style="width:15%;" class="sorting_1">
                                                            @data.DesignationName
                                                        </td>
                                                        <td align="left" style="width:10%;" class="sorting_1">
                                                            @data.Location
                                                        </td>

                                                        <td align="left" style="width:20%;" class="sorting_1">
                                                            @data.LegalEntity
                                                        </td>
                                                        <td align="left" style="width:5%;" class="sorting_1">
                                                            @string.Format("{0:dd/MM/yyyy}", @data.ExitDate)
                                                        </td>
                                                        <td align="left" style="width:5%;" class="sorting_1">
                                                            @if (data.IsActive == true)
                                                            {
                                                                @:Active
                                                            }
                                                            else
                                                            {
                                                                @:In-Active
                                                            }

                                                        </td>

                                                        <td align="center" style="width:5%;" class="sorting_1">
                                                            <a title="Edit" class="btn btn-primary btn-xs" onclick="UpdateRecord(@data.Id, this)">
                                                                <span class="fa fa-pencil "></span>
                                                            </a>
                                                            <a title="Delete" class="btn btn-xs btn-danger" onclick="Delete(@data.Id, this)"><i class="fa fa-ban"></i></a>



                                                        </td>
                                                    </tr>
                                                    count++;
                                                }

                                            </tbody>
                                        </table>

                                    </div>


                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </section>
</div>

